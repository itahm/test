<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>

		<style>
#dialog {
	position: fixed; top: 30px; right: 0; bottom: 0; left: 30px;
	width: 100%;
	height: 100%;
	background-color: rgba(255, 255, 255, .9);
	border: 0;
	margin: 0;
	padding: 0;
}

.hide {
	display: none;
}
		</style>
	</head>

	<body>
		<button>test</button>
		<input type="button" value="test2">
		<iframe id="dialog" src="test2.html"></iframe>

	<script>
	var frame = document.getElementById("dialog");
	
(function (window, undefined) {
	
	
	frame.onload = function () {
		//frame.classList.remove("hide");
	}
	
	window.showDialog = function (url) {
		frame.src = url;
	};
	
	window.closeDialog = function () {
		frame.classList.add("hide");
	};
	
	window.getSelectedDevice = function () {
		return {
			"ip":"127.0.0.1","x":0,"name":"localhost","y":0,"id":"0","snmp": true, "profile":"public","type":"server"
		};
	}
	
	window.getIconData = function () {
		return {
		    "server": {
		        "group": "server",
		        "alt": "server",
		        "src": "img/server.png"
		    },
		    "mainframe": {
		        "group": "server",
		        "alt": "mainframe",
		        "src": "img/mainframe.png"
		    },
		    "database": {
		        "group": "server",
		        "alt": "database",
		        "src": "img/database.png"
		    },
		    "storage": {
		        "group": "server",
		        "alt": "storage",
		        "src": "img/storage.png"
		    },
		    "www": {
		        "group": "server",
		        "alt": "web server",
		        "src": "img/www.png"
		    },
		    "network": {
		        "group": "network",
		        "alt": "network",
		        "src": "img/network.png"
		    },
		    "workgroup": {
		        "group": "network",
		        "alt": "workgroup switch",
		        "src": "img/workgroup.png"
		    },
		    "dummy": {
		        "group": "network",
		        "alt": "dummy hub",
		        "src": "img/hub.png"
		    },
		    "l4switch": {
		        "group": "network",
		        "alt": "layer4 switch",
		        "src": "img/l4switch.png"
		    },
		    "l3switch": {
		        "group": "network",
		        "alt": "layer3 switch",
		        "src": "img/l3switch.png"
		    },
		    "router": {
		        "group": "network",
		        "alt": "router",
		        "src": "img/router.png"
		    },
		    "firewall": {
		        "group": "network",
		        "alt": "firewall",
		        "src": "img/firewall.png"
		    },
		    "vpn": {
		        "group": "network",
		        "alt": "vpn gateway",
		        "src": "img/gateway.png"
		    },
		    "concentrator": {
		        "group": "network",
		        "alt": "vpn concentrator",
		        "src": "img/concentrator.png"
		    },
		    "wireless": {
		        "group": "network",
		        "alt": "wireless device",
		        "src": "img/wireless.png"
		    },
		    "accesspoint": {
		        "group": "network",
		        "alt": "accesspoint",
		        "src": "img/accesspoint.png"
		    },
		    "office": {
		        "group": "etc",
		        "alt": "office",
		        "src": "img/office.png"
		    },
		    "cloud": {
		        "group": "etc",
		        "alt": "cloud",
		        "src": "img/cloud.png"
		    },
		    "unknown": {
		        "group": "etc",
		        "alt": "unknown",
		        "src": "img/unknown.png"
		    }
		};
	};
	
}) (window);

window.test = function () {
	console.log("test good");
};

function abc () {
	
}
var win;
document.querySelector("button").onclick = function () {
	//win = window.open("test.html", "event", "left=0, top=0, width="+ screen.availWidth+ ", height="+ screen.availHeight +"toolbar=0, location=0, fullscreen=1");
	//win = window.open("test.html", "event", "left=0, top=0, toolbar=0, location=0, resizable=1, toolbar=0, menubar=0, titlebar=0");
	frame.src = "about:blank";
	//win.focus();
}

document.querySelector("input").onclick = function () {
	win.focus();
}

if (opener) {
	
	console.log(opener);
}

	</script>

	</body>
</html>